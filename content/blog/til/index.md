---
title: 'Today I Learned'
date: 2022-07-05
lastUpdated: 2022-07-07
description: '작고 사소한 개발 지식'
tags: [Typescript]
---

## 220705

**import path 단축하기**

```ts
// package.json

"baseUrl": ".",
"paths": {
  "@libs/*": ["libs/*"]
}

// usage
import something from '@libs/server/handler';
```

**프로젝트 구성**

- 모노레포
  - 별도 환경설정에 소모하는 시간을 줄일 수 있음
  - 디자인 시스템과 같이 실시간으로 보면서 개발해야하는 특수한 경우 훨씬 간편하게 watch를 걸고 빌드할 수 있음.
  - 팀 간의 작업 현황에 관심을 가질 수 있음. 커밋 기록 등등으로. 눈에 보이니 PR참여도 쉬워짐.
  - 팀마다의 커밋 기록이 섞여 지저분해짐 (히스토리 파악 어려워짐)
  - 팀마다의 테스트서버 QA / 배포 프로세스가 꼬일 수 있음. 단독으로 관리하기 어려움.
  - 공통 모듈에 수정이 가해질 경우 모든 팀의 프로젝트가 다 배포되어야 함.
- 단독 레포
  - 팀마다의 단독 개발 환경 (테스트, 배포)을 구축할 수 있음
  - 공통 모듈에 수정이 가해진다 해도 필요한 팀에서만 버전을 올려 사용하고 배포하면 됨.
  - 히스토리를 깔끔하게 관리할 수 있음
  - 디자인 시스템, 이메일 템플릿과 같은 공통 모듈이지만 단독으로 관리되는 경우 실시간 수정하기 매우 귀찮음.
  - 초기 구축 비용이 소모됨
  - 다른 팀의 현황에 관심을 갖기 힘들 수 있음 (눈에서 멀어지므로)

## 220707

**써드파티 라이브러리에 대해 인터페이스를 만들자는 의견**

- 인터페이스 자체가 변화가 적고 표준이 확실한 경우, 매우 유용할 것 같다.
  - 예시: http client, api interface 등
- 하지만 그렇지 않은 경우 인터페이스를 만드는 것이 오히려 독이 될 수 있을 것 같다.
  - 변화가 잦고 인터페이스의 공통화가 쉽지 않은 라이브러리
  - 해결하고 싶은 문제는 같지만 해결방법이 각기 다른 라이브러리
  - 승리한 해결방법이 명확히 없는 영역
  - 예시 : 상태관리, 폼 관리 등등

```js
// get.js
import first from 'first';

const get = first.get;

export { get };

// usage
get(successFn, objectData);

// 몇 달 뒤...
// get.js
import something from 'something';

// 의도: 라이브러리 교체를 위해 인터페이스에서만 변경 발생하게 하는 것.
const get = something.get;

export { get };

// usage
// 근데 교체한 라이브러리의 함수가 받는 인자가 완전히 달라진다면?
get(FailFn, arrayData);
```

이렇게 인터페이스를 만들어둔다 해도 인자 같은 것이 완전히 변하면, 결국 get 사용처를 수정해야 하는 것 아닌가? 즉, 인터페이스가 무의미해지는 것 아닌가?  
이럴땐 어떻게 하는걸까?

**Kent C의 테스트 코드 스터디 : 테스트 코드에 있어 리버스 엔지니어링**

- 통합 테스트를 한다는 건 내부의 로직을 모르는 상황에서 테스트를 하는 것인데, 이 과정을 리버스 엔지니어링이라고 본걸까?
- 내부 로직이 어떻게 동작하는지 알고 있기 때문에 작성할 수 있는 테스트 방식이 아닐까?
- 특별한 장점은 없는 것 같다.
- 감추고 싶은 부분(private)을 테스트하는 것이라 오히려 별로인듯.
